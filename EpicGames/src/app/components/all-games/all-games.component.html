<app-search (searchValueEmitter)="searchGame($event)"></app-search>
<div class="all-games container">
    <div *ngFor="let game of filteredGames | paginate: { itemsPerPage: 8, currentPage: currentPage }" class="game" (click)="redirectToAboutGamePage(game.id)">
        <div *ngIf="game.sale" class="sale">
            <span class="sale-percent">- {{game.sale}}%</span>
        </div>
        <img class="img" [src]="game.image_url" alt="">
        <div class="price-and-title">
            <span class="title">{{game.title}}</span>
            <ng-container *ngIf="game.sale;else noSale">
            
            <span class="price">Old price: <span class="minus-price">{{game.price}}$</span></span>
            <span class="price">New price: {{calculateSale(game.price, game.sale)}}$</span>
            </ng-container>
            <ng-template #noSale>
                <span class="price">price: {{game.price}}$</span>
            </ng-template>
        </div>
    </div>
    <div class="game empty"></div>
    <div class="game empty"></div>
    <div class="game empty"></div>
</div>
<div *ngIf="filteredGames?.length === 0 && isSearch" class="no-result">OOPS` We don't have such a game</div>
<ng-container *ngIf="filteredGames?.length !== 0">
<pagination-controls (pageChange)="changePage($event)"></pagination-controls>
</ng-container>

